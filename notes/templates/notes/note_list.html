{% extends "base.html" %}
{% block title %}공부 노트 - StudyLog{% endblock %}

{% block content %}
<div class="d-flex align-items-center justify-content-between mb-3">
  <h1 class="h3 mb-0">공부 노트</h1>
  <a class="btn btn-outline-success btn-sm" href="{% url 'note_create' %}">
    <i class="bi bi-plus-circle"></i> 새 노트 작성
  </a>
</div>

{% for note in notes %}
  <div class="card mb-3 border hover-lift">
    <div class="card-body d-flex flex-column">
      <h2 class="h5 mb-1">
        <a class="text-decoration-none" href="{% url 'note_detail' note.pk %}">
          {{ note.title }}
        </a>
      </h2>
      <p class="text-muted small mb-2">
        {{ note.created_at|date:"Y-m-d H:i" }}
        {% if note.updated_at %} · 수정 {{ note.updated_at|date:"Y-m-d H:i" }}{% endif %}
      </p>

      <p class="text-secondary mb-3 text-truncate-3 break-anywhere">
        {{ note.content|truncatewords:60 }}
      </p>

      <a class="btn btn-outline-secondary btn-sm mt-auto align-self-end" href="{% url 'note_detail' note.pk %}">
        더보기 →
      </a>
    </div>
  </div>
{% empty %}
  <div class="alert alert-info">
    아직 노트가 없어요.
  </div>
{% endfor %}
{% endblock %}
